(function(t){function e(e){for(var s,o,i=e[0],u=e[1],c=e[2],m=0,f=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(t[s]=u[s]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},a={app:0},r=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0845":function(t,e,n){},"0e31":function(t,e,n){"use strict";n("3771")},1:function(t,e){},3771:function(t,e,n){},"4ac4":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:""}}),n("v-main",[n("v-container",{attrs:{fluid:"","fill-height":"",aacontainer:""}},[n("router-view")],1)],1)],1)},r=[],o={name:"App",components:{},data:function(){return{}}},i=o,u=n("2877"),c=n("6544"),l=n.n(c),m=n("7496"),f=n("40dc"),p=n("a523"),d=n("f6c4"),h=Object(u["a"])(i,a,r,!1,null,null,null),g=h.exports;l()(h,{VApp:m["a"],VAppBar:f["a"],VContainer:p["a"],VMain:d["a"]});var v=n("f309");s["a"].use(v["a"]);var b=new v["a"]({}),y=(n("b0c0"),n("8c4f")),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inner-wrap",attrs:{fluid:"","fill-height":""}},[n("Loginform-component",{on:{joinSubmit:t.joinSubmit}})],1)},O=[],_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm6:""}},[n("v-text-field",{ref:"userName",attrs:{rules:[function(){return!!t.userName||"대화명은 빈값일 수 없습니다."}],label:"대화명",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.joinSubmit(e)}},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}}),n("div",{staticClass:"text-xs-center"},[n("v-btn",{attrs:{disabled:t.nameValidation,rounded:"",color:"primary"},on:{click:t.joinSubmit}},[t._v("JOIN")])],1)],1)],1)},x=[],M=n("5530"),k=n("2f62"),w={name:"LoginForm",props:["join"],data:function(){return{userName:""}},computed:{nameValidation:function(){return""==this.userName}},methods:Object(M["a"])(Object(M["a"])({},Object(k["b"])({setUserId:"setUserId"})),{},{joinSubmit:function(){this.$refs.userName.validate()?(this.setUserId(this.userName),this.$emit("joinSubmit",this.userName)):this.$refs.userName.validate(!0)}})},$=w,I=n("8336"),S=n("0e8f"),V=n("a722"),L=n("8654"),C=Object(u["a"])($,_,x,!1,null,null,null),D=C.exports;l()(C,{VBtn:I["a"],VFlex:S["a"],VLayout:V["a"],VTextField:L["a"]});var N={name:"Login",data:function(){return{}},components:{"Loginform-component":D},created:function(){},methods:{joinSubmit:function(t){this.$router.push("/chat-room/".concat(t))}}},P=N,T=Object(u["a"])(P,j,O,!1,null,null,null),U=T.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inner-wrap",attrs:{fluid:"","fill-height":"","inner-wrap":""}},[n("Message-List",{staticClass:"msg-list",attrs:{msgs:t.msgDatas}}),n("Message-From",{staticClass:"msg-form",on:{submitMessage:t.sendMessage}})],1)},F=[],E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{directives:[{name:"auto-bottom",rawName:"v-auto-bottom",value:t.msgs,expression:"msgs"}]},t._l(t.msgs,(function(e,s){return n("div",{key:s},[n("v-list-item",[n("v-list-item-action",[n("span",[t._v(t._s(e.from.name))])]),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.msg))])],1)],1),n("v-divider",{attrs:{inset:""}})],1)})),0)},H=[],G={name:"MessageList",props:["msgs"]},J=G,R=(n("f6f4"),n("ce7e")),B=n("8860"),q=n("da13"),z=n("1800"),K=n("5d23"),Q=Object(u["a"])(J,E,H,!1,null,null,null),W=Q.exports;l()(Q,{VDivider:R["a"],VList:B["a"],VListItem:q["a"],VListItemAction:z["a"],VListItemContent:K["a"],VListItemTitle:K["b"]});var X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"inner-wrap"},[n("v-text-field",{attrs:{placeholder:"보낼 메세지를 입력하세요.",solo:""},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.submitMessageFunc(e):null}},model:{value:t.msg,callback:function(e){t.msg=e},expression:"msg"}})],1)},Y=[],Z={name:"MessageForm",data:function(){return{msg:""}},methods:{submitMessageFunc:function(){return 0!==this.msg.length&&(this.$emit("submitMessage",this.msg),this.msg="",!0)}}},tt=Z,et=Object(u["a"])(tt,X,Y,!1,null,null,null),nt=et.exports;l()(et,{VTextField:L["a"]});var st={PUSH_MSG_DATA:"pushMsgData"},at={name:"ChatRoom",data:function(){return{datas:[]}},components:{"Message-List":W,"Message-From":nt},computed:Object(M["a"])({},Object(k["c"])({msgDatas:function(t){return t.socket.msgDatas}})),mounted:function(){var t=this,e=this;this.$connect().then((function(){t.$socket.on("chat",(function(n){t.pushMsgData(n),e.datas.push(n)}))}))},created:function(){},destroyed:function(){this.setUserId(""),this.$socket.disconnect()},methods:Object(M["a"])(Object(M["a"])(Object(M["a"])({},Object(k["b"])({setUserId:"setUserId"})),Object(k["b"])({pushMsgData:st.PUSH_MSG_DATA})),{},{sendMessage:function(t){this.pushMsgData({from:{name:"나"},msg:t}),this.$sendMessage({name:this.$route.params.username,msg:t})}})},rt=at,ot=(n("0e31"),Object(u["a"])(rt,A,F,!1,null,null,null)),it=ot.exports,ut=n("ade3"),ct={msgDatas:[]},lt={},mt={},ft=Object(ut["a"])({},st.PUSH_MSG_DATA,(function(t,e){t.msgDatas.push(e)})),pt={state:ct,getters:lt,actions:mt,mutations:ft},dt={userId:""},ht={getUserId:function(t){return t.userId}},gt={},vt={setUserId:function(t,e){t.userId=e}},bt={state:dt,getters:ht,actions:gt,mutations:vt};s["a"].use(k["a"]);var yt=!1,jt=new k["a"].Store({modules:{socket:pt,userInfo:bt},strict:yt});s["a"].use(y["a"]);var Ot=new y["a"]({mode:"history",base:"/",routes:[{path:"/",name:"Login",component:U},{path:"/chat-room/:username",name:"ChatRoom",component:it}]});Ot.beforeEach((function(t,e,n){console.log("=== navigation guard ==="),"ChatRoom"==t.name&&""==jt.state.userInfo.userId&&n("/"),n()}));var _t,xt=Ot,Mt=(n("d3b7"),n("8055")),kt=n.n(Mt),wt="http://ec2-3-84-249-206.compute-1.amazonaws.com:3001",$t={install:function(t){t.mixin({}),t.prototype.$sendMessage=function(t){_t.emit("chat",{msg:t.msg,name:t.name})},t.prototype.$connect=function(){return _t=kt()(wt),t.prototype.$socket=_t,Promise.resolve()},t.prototype.$socket=_t}};s["a"].use($t);var It=n("88e5"),St=n.n(It);n("4ac4");s["a"].config.productionTip=!1,s["a"].use(St.a),new s["a"]({router:xt,vuetify:b,store:jt,render:function(t){return t(g)}}).$mount("#app")},"88e5":function(t,e){t.exports=function(t){t.directive("auto-bottom",{update:function(t){setTimeout((function(){t.scrollTop=t.scrollHeight}),0)}})}},f6f4:function(t,e,n){"use strict";n("0845")}});
//# sourceMappingURL=app.6feffdf5.js.map